/*! @metagrid/jquery-metagrid-widget - v0.5.0 - 2023-01-10
* https://metagrid.ch
* Copyright (c) 2023; Licensed MIT */
!function(i){var o,a=window.console,t={init:function(e){return""===(o=i.extend({projectSlug:"",apiUrl:"https://api.metagrid.ch/widget/",includeDescription:!1,entitySlugTransformer:function(e){return e},debug:!1,template:i('<div class="row"><div class="span8"><div class="blue-box"><b>Links <a href="http://metagrid.ch" target="_blank">Metagrid.ch</a>:</b><span id="metagrid-links"></span></div></div></div>'),render:function(n,e){var a=i("<span />");return i.each(n,function(e,t){var r="object"==typeof n&&n.url?n.url:t,r=i("<a>").attr({class:"metagrid-link",target:"_blank",href:r}).text(e);o.includeDescription&&r.attr("title",t.short_description),r.appendTo(a)}),i("#metagrid-links",e).append(a),e}},e)).projectSlug?(i.error("You need to declare a projectSlug for the MetagridClient "),!1):this.each(function(){var t=i(this),e=t.data("element-kind"),r=t.data("element-id"),n=t.data("language");null==n&&(n=i("html").attr("lang")||"de"),r&&e&&("function"==typeof o.entitySlugTransformer&&(e=o.entitySlugTransformer(e)),i.getJSON(o.apiUrl+o.projectSlug+"/"+e+"/"+r+".json?lang="+n+"&include="+o.includeDescription,function(e){e[0]?(o.debug&&a.log(e),t.data("data",e[0]),e=o.render(e[0],o.template.clone()),t.append(e)):o.debug&&a.log("metagrid-client: No concordance for the resource found")},function(e,t){404!==t.status&&a.error("There was an error on metarid. The Server answered with "+t.status)}))})},getData:function(){return i(this).data("data")}};i.fn.metagridClient=function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void i.error("Method "+e+" does not exist on jQuery.metagridclient"):t.init.apply(this,arguments)}}(jQuery);